(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();const K=document.querySelector(".app"),V=(c,n,o=0,s=0)=>{const e=document.createElement("div");e.classList.add("object"),e.style.left=`${c}px`,e.style.top=`${n}px`,e.velocityX=o,e.velocityY=s,K.appendChild(e)},D=c=>parseFloat(getComputedStyle(c).width),_=()=>{const c=document.querySelectorAll(".object"),n=1,o=.95,s=1,e=new Set;c.forEach((t,i)=>{const u=t.getBoundingClientRect(),a=D(t),x=u.width/2,W=u.left+u.width/2,z=u.top+u.height/2;let w=0,$=0;c.forEach((l,Y)=>{if(t===l)return;const h=l.getBoundingClientRect(),d=D(l),M=h.width/2,U=h.left+h.width/2,Z=h.top+h.height/2,m=U-W,g=Z-z,r=Math.sqrt(m*m+g*g);if(r<x+M){const L=i<Y?`${i}-${Y}`:`${Y}-${i}`;if(!e.has(L)){e.add(L);const S=Math.atan2(g,m),y=Math.sin(S),p=Math.cos(S),O=t.velocityX*p+t.velocityY*y,P=t.velocityY*p-t.velocityX*y,A=l.velocityX*p+l.velocityY*y,E=l.velocityY*p-l.velocityX*y,T=((a-d)*O+2*d*A)/(a+d),R=((d-a)*A+2*a*O)/(a+d);t.velocityX=(T*p-P*y)*o,t.velocityY=(P*p+T*y)*o,l.velocityX=(R*p-E*y)*o,l.velocityY=(E*p+R*y)*o;const B=x+M-r,I=B*m/r/2,N=B*g/r/2;t.style.left=`${parseFloat(t.style.left)-I}px`,t.style.top=`${parseFloat(t.style.top)-N}px`,l.style.left=`${parseFloat(l.style.left)+I}px`,l.style.top=`${parseFloat(l.style.top)+N}px`}return}if(r<1)return;const C=n*a*d/(r*r);w+=C*m/r,$+=C*g/r}),t.velocityX+=w/a,t.velocityY+=$/a,t.velocityX*=s,t.velocityY*=s;const J=parseFloat(t.style.left),Q=parseFloat(t.style.top);let f=J+t.velocityX,v=Q+t.velocityY;const X=K.getBoundingClientRect(),F=u.width,q=u.height;f<=0?(f=0,t.velocityX=-t.velocityX*o):f+F>=X.width&&(f=X.width-F,t.velocityX=-t.velocityX*o),v<=0?(v=0,t.velocityY=-t.velocityY*o):v+q>=X.height&&(v=X.height-q,t.velocityY=-t.velocityY*o),t.style.left=`${f}px`,t.style.top=`${v}px`})},G=document.querySelector(".app"),k=()=>{let c=performance.now(),n=0;const o=document.querySelector(".fps"),s=()=>{const e=performance.now(),t=e-c;n++,t>1e3&&(o.textContent=n,n=0,c=e),requestAnimationFrame(s)};requestAnimationFrame(s)},H=()=>{const c=document.querySelector(".count"),n=document.querySelectorAll(".object");c.textContent=n.length,requestAnimationFrame(H)};G.addEventListener("click",c=>{const n=c.clientX,o=c.clientY;V(n,o)});G.addEventListener("contextmenu",c=>{c.preventDefault();const n=c.clientX,o=c.clientY,s=Math.random()*5+2,e=Math.random()*Math.PI*2,t=Math.cos(e)*s,i=Math.sin(e)*s;V(n,o,t,i)});setInterval(()=>{_()},1e3/60);H();k();
